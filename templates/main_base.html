<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="BookReview Site">
    <meta name="author" content="Leon Qu">

    <title>Book Review Site</title>

    <!-- Bootstrap core CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
          crossorigin="anonymous">

          <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
          rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
          integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>

    <!-- jQuery and plugins -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <link rel="stylesheet" href="https://cdn.datatables.net/2.0.2/css/dataTables.dataTables.css" />
    <script src="https://cdn.datatables.net/2.0.2/js/dataTables.js"></script>

    <script src="/static/js/users.js"></script>

  <style>
      .signup-header, h4, .close {
        background-color: #5cb85c;
        color:white !important;
        text-align: center;
        font-size: 30px;
      }
      .login-header, h4, .close {
        background-color: #3e8fea;
        color:white !important;
        text-align: center;
        font-size: 30px;
      }
      .modal-footer {
        background-color: #f9f9f9;
      }
  </style>

    {% block extra_style %}{% endblock %}
    {% block extra_script %}{% endblock %}

  </head>

<body>

<header>

  <nav  id="topNavbar" class="navbar fixed-top navbar-expand-lg navbar-dark bg-dark">
    <div class="container-fluid">
      <a class="navbar-brand" href="#">Book Reviews</a>

      <div class="collapse navbar-collapse">
            <ul class="nav nav-tab me-auto mb-2 mb-lg-0" role="tablist" id="navBarItems">
                <li class="nav-item" role="presentation">
                    <a class="nav-link active" id="nav-home-tab" data-bs-toggle="tab"
                       data-bs-target="#nav-home" role="tab" style="color: white" href="#">
                        Home
                    </a>
                </li>
                {% if request.user.is_authenticated %}
                <li class="nav-item" role="presentation">
                    <a class="nav-link" id="nav-myreviews-tab" data-bs-toggle="tab"
                       data-bs-target="#nav-myreviews" role="tab" style="color: white" href="#">
                        My Reviews
                    </a>
                </li>
                {% endif %}
            </ul>
      </div>

      <div class="d-flex px-2 px-sm-4">
        {% if request.user.is_authenticated %}
            <span class="navbar-text px-2 px-md-4">
            <span class="px-3" style="font-weight: bold; color: #16de30;">
                Hello {{ request.user.username }} !</span>
            <a class="btn btn-outline-success" href="{% url 'accounts:logout' %}">Logout</a>
        </span>
        {% else %}
            <button id="signup" class="btn btn-outline-success">Sign Up</button>
            <div style="margin-left: 10px;">
                <button id="loginPopup" class="btn btn-outline-success">
                    Login
                </button></div>
        {% endif %}
      </div>

    </div>
  </nav>

    <!-- give enough space for the area covered by the fixed header  -->
    <div class="row" style="min-height: 50px"></div>

    <!-- hidden input for passing info to external js file -->
    <input type="hidden" id="login-url"
           data-url="{% url 'accounts:ajax_login'  %}" />
    <input type="hidden" id="signup-url"
           data-url="{% url 'accounts:ajax_signup'  %}" />
    <input type="hidden" id="searchTable-url"
           data-url="{% url 'book_reviews:datasource' %}" />
    <input type="hidden" id="detail-base-url"
           data-url="{% url 'book_reviews:review_details' %}" />

  <div class="container-fluid px-0">
    <img src="/static/images/top_img_wide.png" style="width: 100%;" alt="top image" />
  </div>
</header>

<main>

{% block main %}{% endblock %}

    <!-- give enough space for the area covered by the fixed footer -->
    <div class="row" style="min-height: 50px"></div>

<!-- Login Modal -->
    <div class="modal fade" id="LoginModal" role="dialog">
        <div class="modal-dialog">

  <!-- Modal content-->
  <div class="modal-content">
    <div class="modal-header login-header" style="padding:35px 50px;">
      <h5 class="modal-title">Login</h5>
      <button type="button" class="btn-close btn-sm" data-bs-dismiss="modal"></button>
    </div>
    <div class="modal-body" style="padding:40px 50px;">
      <form role="form">
        <div class="form-group">
          <label for="loginUsername" class="pb-1">
              <img src="/static/icons/person-fill.svg" alt="username icon" />
              Username
          </label>
          <input type="text" class="form-control" id="loginUsername" placeholder="Enter email">
        </div>
        <div class="form-group">
          <label for="loginPwd" class="pb-1 pt-3">
              <img src="/static/icons/eye-slash.svg" alt="password icon" />
              Password
          </label>
          <input type="password" class="form-control" id="loginPwd" placeholder="Enter password">
        </div>
      </form>
    </div>
    <div class="modal-footer">
      <button id="loginButton" class="btn btn-primary btn-block">
          Login
      </button>
      <button type="submit" class="btn btn-danger btn-default" data-bs-dismiss="modal">Cancel</button>
    </div>
  </div>
        </div>
    </div>
<!-- end of login modal -->

<!-- Signup Modal -->
  <div class="modal fade" id="SignupModal" role="dialog">
     <div class="modal-dialog">
  <!-- Modal content-->
  <div class="modal-content">
    <div class="modal-header signup-header" style="padding:35px 50px;">
      <h5 class="modal-title">Sign Up</h5>
      <button type="button" class="btn-close btn-sm" data-bs-dismiss="modal"></button>
    </div>
    <div class="modal-body" style="padding:40px 50px;">
      <form role="form">
        <div class="form-group">
          <label for="su_username" class="pb-1">
              <img src="/static/icons/person-fill.svg" alt="username icon" />
              Username
          </label>
          <input type="text" class="form-control" id="su_username"
                 name="su_username" placeholder="4 chars or longer">
        </div>
        <div class="form-group">
          <label for="su_pwd_1" class="pb-1 pt-3">
              <img src="/static/icons/eye-slash.svg" alt="password icon">
              Password</label>
          <input type="password" class="form-control" name="su_pwd_1"
                 id="su_pwd_1" placeholder="password - 4 char or longer">
        </div>
          <div class="form-group">
          <label for="su_pwd_2" class="pb-1 pt-3">
              <img src="/static/icons/eye-slash.svg" alt="password icon">
              Re-enter Password
          </label>
          <input type="password" class="form-control" name="su_pwd_2"
                 id="su_pwd_2" placeholder="repeat the same password">
        </div>

      </form>
    </div>
    <div class="modal-footer">
      <button id="signupButton" class="btn btn-success btn-block">
          Sign Up
      </button>
      <button class="btn btn-danger btn-default" data-bs-dismiss="modal">Cancel</button>
    </div>
  </div>
     </div>
  </div>
<!-- end of Signup modal -->

</main>

<footer class="text-center p-3 fixed-bottom footer  bg-success bg-gradient">
    <span class="text-light">&copy;2024 Copyright</span>
    <span class="px-3 fs-5" style="color: antiquewhite;">Leon Qu</span>
</footer>

{% block perpage_script %}{% endblock %}

</body>
</html>
